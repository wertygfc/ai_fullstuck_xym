<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Storage单例</title>
</head>
<body>
    <script>
        // es6 提供了class关键字，让js像大型语言一样
        // 判断是否实例化过？Storage.instance null
        // Storage 单例统一的管理localStroage
        // 封装，把好用留给别人，把复杂留给自己  protected, private, static
        // 单例好管理，内存小
        class Storage {
            static instance = null
            static getInstance() {
                // 静态属性
                if(!Storage.instance) {
                    Storage.instance = new Storage()
                }
                return Storage.instance
            }
            constructor(name) {
                this.name = name
            }
            getItem(key){
                return localStorage.getItem(key)
            }
            setItem(key, value){
                return localStorage.setItem(key, value)
            }
            removeItem(key) {
                return localStorage.removeItem(key)
            }
        }

        // a b 只要拿到stroage实例就行  我们使用了静态方法和静态属性 静态方法在类上调用跳过了实例化那一步
        const a = Storage.getInstance('a')
        const b = Storage.getInstance('b')
        // console.log(a === b);   //false
        a.setItem('name', '李雷')
    </script>
</body>
</html>